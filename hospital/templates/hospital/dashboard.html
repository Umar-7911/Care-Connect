{% extends 'hospital/base_hospital.html' %}

{% block title %}Dashboard Overview - CareConnect{% endblock %}

{% block content %}
<div class="content-header">
    <h2>Dashboard Overview</h2>
    <p class="subtitle">Quick summary of your hospital's current status</p>
</div>

<!-- Live Status Banner -->
<div class="live-status-banner">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path
            d="M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2Z"
            fill="#10B981" />
        <path d="M13 8L9 12L7 10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
    <div>
        <strong>Live Data Sync Enabled</strong>
        <span>Last updated: {{ last_updated|date:"g:i A, M d, Y"|default:"Just now" }}</span>
    </div>
</div>

<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon" style="background: #EFF6FF; color: #2563EB;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect x="3" y="11" width="18" height="9" rx="2" stroke="currentColor" stroke-width="2" />
                <path d="M3 15H21" stroke="currentColor" stroke-width="2" />
            </svg>
        </div>
        <div class="stat-content">
            <p class="stat-label">Total Beds Available</p>
            <p class="stat-value">{{ total_beds }}</p>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="background: #DCFCE7; color: #16A34A;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                    d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </div>
        <div class="stat-content">
            <p class="stat-label">ICU Beds Available</p>
            <p class="stat-value">{{ icu_beds }}</p>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="background: #FEF3C7; color: #D97706;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2V12M12 12L8 8M12 12L16 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                <circle cx="12" cy="18" r="4" stroke="currentColor" stroke-width="2" />
            </svg>
        </div>
        <div class="stat-content">
            <p class="stat-label">Oxygen Beds Available</p>
            <p class="stat-value">{{ oxygen_beds }}</p>
        </div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="background: #F3E8FF; color: #9333EA;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                    d="M3 12H6M6 12C6 14.2091 7.79086 16 10 16H12M6 12C6 9.79086 7.79086 8 10 8H12M12 8V5M12 8V16M12 16V19"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
        </div>
        <div class="stat-content">
            <p class="stat-label">Ventilators Available</p>
            <p class="stat-value">{{ ventilators }}</p>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="section-header">
    <h3>Quick Actions</h3>
</div>
<div class="quick-actions">
    <a href="{% url 'hospital:update_beds' %}" class="action-button primary">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <rect x="2" y="8" width="16" height="8" rx="1" stroke="currentColor" stroke-width="1.5" />
            <path d="M2 12H18" stroke="currentColor" stroke-width="1.5" />
        </svg>
        <span>Update Bed Availability</span>
    </a>
    <a href="{% url 'hospital:update_pricing' %}" class="action-button">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5" />
            <path
                d="M10 6V14M8 8H11C11.5523 8 12 8.44772 12 9C12 9.55228 11.5523 10 11 10H9C8.44772 10 8 10.4477 8 11C8 11.5523 8.44772 12 9 12H11"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
        <span>Update Pricing</span>
    </a>
    <a href="{% url 'hospital:update_insurances' %}" class="action-button">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 2L3 5V9C3 13.5 6.5 17.5 10 18C13.5 17.5 17 13.5 17 9V5L10 2Z" stroke="currentColor"
                stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M7 9.5L9.5 12L13 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
        </svg>
        <span>Update Insurances</span>
    </a>
    <a href="{% url 'hospital:update_facilities' %}" class="action-button">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <rect x="3" y="3" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.5" />
            <path d="M3 8H17M10 8V17" stroke="currentColor" stroke-width="1.5" />
        </svg>
        <span>Update Facilities</span>
    </a>
</div>

<!-- Hospital Information -->
<div class="section-header">
    <h3>Hospital Information</h3>
</div>
<div class="info-banner">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="1.5" />
        <path d="M10 10V14M10 6V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
    </svg>
    <div>
        <strong>{{ hospital.name }}</strong><br>
        {{ hospital.address }}, {{ hospital.city }}<br>
        Email: {{ hospital.email }} | Phone: {{ hospital.phone }}
    </div>
</div>
{% endblock %}